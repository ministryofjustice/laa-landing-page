databaseChangeLog:
  - changeSet:
      id: 1772324316-1
      author: suresh.kavali
      dbms: postgresql
      comment: Add TRIGGER_LAA_APP_SYNC permission to SILAS System Administration role
      changes:
        - sql:
            dbms: postgresql
            sql: |
              INSERT INTO role_permission (app_role_id, permission)
              SELECT (SELECT id FROM app_role WHERE name = 'SILAS System Administration'),
                     'TRIGGER_LAA_APP_SYNC'
              WHERE NOT EXISTS (
                SELECT 1 FROM role_permission
                WHERE app_role_id = (SELECT id FROM app_role WHERE name = 'SILAS System Administration')
                  AND permission = 'TRIGGER_LAA_APP_SYNC'
              );
      rollback:
        - sql:
            dbms: postgresql
            sql: |
              DELETE FROM role_permission
              WHERE app_role_id = (SELECT id FROM app_role WHERE name = 'SILAS System Administration')
                AND permission = 'TRIGGER_LAA_APP_SYNC';
